trigger:
- master

strategy:
  matrix:
    mac:
      imageName: 'macOS-10.13'
      python.version: '3.x'

pool:
  vmImage: $(imageName)

steps:
- task: UsePythonVersion@0
  inputs:
    versionSpec: '$(python.version)'
    architecture: 'x64'

- script: |
    printenv
    python -c "import platform ; print('platform.mac_ver:', platform.mac_ver())"
    python -c "import distutils.util ; print('distutils.util.get_platform: ', distutils.util.get_platform())"
    python -c "import os ; print('MACOSX_DEPLOYMENT_TARGET: ', os.environ.get('MACOSX_DEPLOYMENT_TARGET', '<none>'))"
    python -c "import distutils.sysconfig; print('distutils.sysconfig.get_config_vars ---\n', distutils.sysconfig.get_config_vars())"
  displayName: 'Print env'
